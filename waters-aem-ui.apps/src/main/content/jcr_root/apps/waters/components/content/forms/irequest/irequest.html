<div data-sly-use.irequest="com.waters.aem.core.components.content.forms.IRequest">
    <div class="cmp-form--attach" id="js-irequest-form"></div>
    <script type="application/json" id="cmp-check-serial-form">
        {
            "formName": "checkSerial",
            "customFormClass": "cmp-form--check-serial",
            "submitEndpoint": "${irequest.passwordResetUrl @ context='unsafe'}",
            "redirectUrl": "${irequest.redirectEcommLink.href @ context='unsafe'}",
            "buttonText": "${'CONTINUE' @ i18n, context='text'}",
            "elementLocator": "check-email-form",
			"buttonLocator": "continue",
            "needsToBeSignedOut": true,
            "icons": {
                "checkmarkIcon": "/content/dam/waters/en/brand-assets/icons/checkmark.svg",
                "validIcon": "/content/dam/waters/en/brand-assets/icons/checkmark.svg",
                "invalidIcon": "/content/dam/waters/en/brand-assets/icons/attention.svg",
                "eyeIcon": "/content/dam/waters/en/brand-assets/icons/eye.svg",
                "eyeOffIcon": "/content/dam/waters/en/brand-assets/icons/eye-off.svg",
                "signInIcon": "/content/dam/waters/en/brand-assets/icons/user.svg"
            },
            "fields": [
                {
                    "type": "label",
                    "name": "requiredLabel",
                    "label": "${'*Required field' @ i18n, context='unsafe'}"
                },                
                {
                    "type": "text",
                    "name": "serialNumber",
                    "label": "${'Enter Serial Number ' @ i18n, context='text'}",
                    "validation": {
                        "required": true,
                        "maxLength": {
                            "value": 40,
                            "message": "${'Maximum 40 characters allowed' @i18n, context='unsafe'}"
                        },
                        "validateFnName": "noWhitespaceOnly",
                        "requiredMsg": "${'Please enter a Serial Number.' @ i18n, context='unsafe'}"
                    }
                },            
                {
                    "type": "text",
                    "name": "organization",
                    "label": "${'Organization' @ i18n, context='text'}",
                    "validation": {
                        "required": true,
                        "maxLength": {
                            "value": 40,
                            "message": "${'Maximum 40 characters allowed' @i18n, context='unsafe'}"
                        },
                        "validateFnName": "noWhitespaceOnly",
                        "requiredMsg": "${'Please enter an Organization.' @ i18n, context='unsafe'}"
                    }
                }           
            ]
        }
    </script>
    <script type="application/json" id="cmp-irequest-form">
        {
            "formName": "irequest",
            "submitEndpoint": "${irequest.registrationSubmitUrl @ context='unsafe'}",
            "buttonText": "${'Create Account' @ i18n, context='text'}",
            "altButtonText": "${'Continue' @ i18n, context='text'}",
            "redirectUrl": "${irequest.redirectLink.href @ context='unsafe'}",
            "needsToBeSignedOut": true,
            "elementLocator": "registration-form",
			"buttonLocator": "create-account",
            "icons": {
                "checkmarkIcon": "/content/dam/waters/en/brand-assets/icons/checkmark.svg",
                "validIcon": "/content/dam/waters/en/brand-assets/icons/checkmark.svg",
                "invalidIcon": "/content/dam/waters/en/brand-assets/icons/attention.svg",
                "eyeIcon": "/content/dam/waters/en/brand-assets/icons/eye.svg",
                "eyeOffIcon": "/content/dam/waters/en/brand-assets/icons/eye-off.svg",
                "signInIcon": "/content/dam/waters/en/brand-assets/icons/user.svg",
                "lockIcon": "/content/dam/waters/en/brand-assets/icons/lock.svg"
            },
            "fields": [
                {
                    "type": "navigateLink",
                    "text": "${'Enter a different Serial Number.' @ i18n, context='unsafe'}",
                    "name": "backLink",
                    "link": "#"
                },
                {
                    "type": "label",
                    "name": "serialNumberLabel",
                    "label": "${'Serial Number:' @ i18n, context='unsafe'}"
                },
                {
                    "type": "label",
                    "name": "organizationLabel",
                    "label": "${'Organization:' @ i18n, context='unsafe'}"
                },
                {
                    "type": "hr",
                    "name": "sectionHR",
                    "addClass": "cmp-section-hr"
                },               
                {
                    "type": "label",
                    "addClass": "cmp-heading-label",
                    "name": "supportRequestDetailsLabel",
                    "label": "${'Support Request Details' @ i18n, context='unsafe'}"
                },                
                {
                    "type": "label",
                    "name": "requiredLabel",
                    "label": "${'*Required field' @ i18n, context='unsafe'}"
                },
                {
                    "type": "label",
                    "active": false,
                    "addClass": "cmp-heading-label",
                    "name": "productRequiringSupportLabel",
                    "label": "${'Product Requiring Support' @ i18n, context='unsafe'}"
                }, 
                {
                    "type": "label",
                    "active": false,
                    "name": "productDetailsLabel",
                    "label": "${'CO2 Bulk Delivery 500G System' @ i18n, context='unsafe'}"
                }, 
                {
                    "type": "dropdown",
                    "name": "productDetails",
                    "label": "${'Product Requiring Support' @ i18n, context='text'}",
                    "placeholder": "${'Select...' @ i18n, context='text'}",
                    "dropdownIndicator": "/content/dam/waters/en/brand-assets/icons/down.svg",
                    "options": [
                        {"value":"CO2_BULK","label": "${'CO2 Bulk Delivery 500G System' @ i18n, context='text'}"},
                        {"value":"TA_AD","label": "${'S/W Suite TA Advantage v5.0 Kit' @ i18n, context='text'}"}
                    ],
                    "active": true,
                    "validation": {
                        "required": true,
                        "requiredMsg": "${'Please select your Product.' @ i18n, context='text'}"
                    }
                },                
                {
                    "type": "dropdown",
                    "name": "supportType",
                    "label": "${'Type of Support Request' @ i18n, context='text'}",
                    "placeholder": "${'Select...' @ i18n, context='text'}",
                    "dropdownIndicator": "/content/dam/waters/en/brand-assets/icons/down.svg",
                    "options": [
                        {"value":"MNT","label": "${'Maintenance' @ i18n, context='text'}"},
                        {"value":"QUAL","label": "${'Qualification' @ i18n, context='text'}"},
                        {"value":"INST_REL","label": "${'Installation-Relocation' @ i18n, context='text'}"},
                        {"value":"HELP","label": "${'I need help with an issue' @ i18n, context='text'}"}
                    ],
                    "active": true,
                    "validation": {
                        "required": true,
                        "requiredMsg": "${'Please select your type of Support Request.' @ i18n, context='text'}"
                    }
                },
                {
                    "type": "dropdown",
                    "name": "productType",
                    "label": "${'Product Type' @ i18n, context='text'}",
                    "placeholder": "${'Select...' @ i18n, context='text'}",
                    "dropdownIndicator": "/content/dam/waters/en/brand-assets/icons/down.svg",
                    "options": [
                        {"value":"LC","label": "${'LC Software' @ i18n, context='text'}"},
                        {"value":"MS","label": "${'MS Software' @ i18n, context='text'}"},
                        {"value":"NUGEN","label": "${'NuGenisis Software' @ i18n, context='text'}"},                        
                        {"value":"UPLC_HPLC","label": "${'UPLC/HPLC Hardware' @ i18n, context='text'}"},
                        {"value":"QUAD","label": "${'Quadrupole Instruments' @ i18n, context='text'}"},
                        {"value":"TOF","label": "${'Time of Flight Instruments' @ i18n, context='text'}"},
                        {"value":"MALDI","label": "${'Maldi Instruments' @ i18n, context='text'}"},
                        {"value":"SFC","label": "${'SFC of SFC-MS Instruments' @ i18n, context='text'}"}
                    ],
                    "active": true,
                    "validation": {
                        "required": true,
                        "requiredMsg": "${'Please select a product type.' @ i18n, context='text'}"
                    }
                },
                {
                    "type": "dropdown",
                    "name": "subProductType",
                    "label": "${'Sub Product Type' @ i18n, context='text'}",
                    "placeholder": "${'Select...' @ i18n, context='text'}",
                    "dropdownIndicator": "/content/dam/waters/en/brand-assets/icons/down.svg",
                    "options": [
                    ],
                    "active": true,
                    "validation": {
                        "required": true,
                        "requiredMsg": "${'Please select a sub product type.' @ i18n, context='text'}"
                    }
                },
                {
                    "type": "textarea",
                    "name": "formDescription",
                    "label": "${'Support Request Summary' @ i18n, context='text'}",
                    "resize": false,
                    "rows": 5,
                    "validation": {
                        "maxLength": {
                            "value": 1000,
                            "message": "${'Maximum 1000 characters allowed' @i18n, context='unsafe'}"
                        },
                        "required": false,
                        "requiredMsg": "${'Please enter a message.' @ i18n, context='unsafe'}"
                    },
                    "showTextInfo": {
                        "remainingMoreTextMsg": "${'characters left' @i18n, context='unsafe'}",
                        "remainingOneTextMsg": "${'character left' @i18n, context='unsafe'}",
                        "overMoreTextMsg": "${'characters over' @i18n, context='unsafe'}",
                        "overOneTextMsg": "${'character over' @i18n, context='unsafe'}"
                    }
                },
                {
                    "type": "label",
                    "addClass": "cmp-heading-label",
                    "name": "contactInformationLabel",
                    "label": "${'Contact Information for this Request' @ i18n, context='unsafe'}"
                },
                {
                    "type": "text",
                    "name": "firstName",
                    "label": "${'First Name' @ i18n, context='text'}",
                    "validation": {
                        "required": true,
                        "maxLength": {
                            "value": 40,
                            "message": "${'Maximum 40 characters allowed' @i18n, context='unsafe'}"
                        },
                        "validateFnName": "noWhitespaceOnly",
                        "validationMsg": "${'Please enter a valid first name.' @ i18n, context='unsafe'}",
                        "requiredMsg": "${'Please enter a first name.' @ i18n, context='unsafe'}"
                    }
                },
                {
                    "type": "text",
                    "name": "lastName",
                    "label": "${'Last Name' @ i18n, context='text'}",
                    "validation": {
                        "required": true,
                        "maxLength": {
                            "value": 40,
                            "message": "${'Maximum 40 characters allowed' @i18n, context='unsafe'}"
                        },
                        "validateFnName": "noWhitespaceOnly",
                        "validationMsg": "${'Please enter a valid last name.' @ i18n, context='unsafe'}",
                        "requiredMsg": "${'Please enter a last name.' @ i18n, context='unsafe'}"
                    }
                },
                {
                    "type": "email",
                    "name": "email",
                    "label": "${'Email Address' @ i18n, context='text'}",
                    "validation": {
                        "required": true,
                        "requiredMsg": "${'Please enter an email address.' @ i18n, context='text'}",
                        "validateFnName": "email",
                        "validationMsg": "${'Please enter a valid email address.' @ i18n, context='text'}"
                    }
                }, 
                {
                    "type": "text",
                    "name": "phone",
                    "label": "${'Phone Number' @ i18n, context='unsafe'}",
                    "validation": {
                        "validateFnName": "blankOrNumbersOnly",
                        "required": true,
                        "requiredMsg": "${'Please enter a phone number (Numbers Only).' @ i18n, context='unsafe'}",
                        "validationMsg": "${'Please enter a valid phone number (Numbers Only).' @ i18n, context='text'}"
                    }
                },
                {
                    "type": "text",
                    "name": "secondaryPhone",
                    "label": "${'Phone Number' @ i18n, context='unsafe'}",
                    "optionalLabel": "${'(optional)' @ i18n, context='text'}",
                    "validation": {
                        "validateFnName": "blankOrNumbersOnly",
                        "required": false,
                        "validationMsg": "${'Please enter a valid phone number (Numbers Only).' @ i18n, context='text'}"
                    }
                },              
                {
                    "type": "textwithlinks",
                    "name": "privacy",
                    "active": true,
                    "config": [
                        {
                            "type": "text",
                            "text": "${'By clicking the CREATE ACCOUNT button, you are agreeing to our' @ i18n, context='text'}",
                            "rightSpace": "true"
                        },
                        {
                            "type": "link",
                            "label": "${'Terms of Use' @ i18n, context='text'}",
                            "url": "${irequest.termsOfUseLink.href @ context='unsafe'}",
                            "blank": "${irequest.newWindow @ context='unsafe'}",
                            "rightSpace": "true"
                        },
                        {
                            "type": "text",
                            "text": "${'and understand that the information you have provided on this website will be used and processed by Waters in accordance with the' @ i18n, context='text'}",
                            "rightSpace": "true"
                        },
                        {
                            "type": "link",
                            "label": "${'Waters Privacy Notice' @ i18n, context='text'}",
                            "url": "${irequest.privacyNoticeLink.href @ context='unsafe'}",
                            "blank": "${irequest.newWindow @ context='unsafe'}",
                            "rightSpace": "false"
                        },
                        {
                            "type": "text",
                            "text": "${'.' @ i18n, context='text'}",
                            "rightSpace": "false"
                        }
                    ]
                }
            ],
            "subOptions": [
                {
                    "optionValue": "LC",
                    "options": [
                        {"value":"B1254","label": "${'Empower Build 1154' @ i18n, context='text'}"},
                        {"value":"B2154","label": "${'Empower Build 2154' @ i18n, context='text'}"},
                        {"value":"EMP3","label": "${'Empower3' @ i18n, context='text'}"},                        
                        {"value":"BRE2","label": "${'Breeze2' @ i18n, context='text'}"},
                        {"value":"BRE3_3","label": "${'Breeze3.3' @ i18n, context='text'}"},
                        {"value":"OTHER","label": "${'Other than listed' @ i18n, context='text'}"}
                    ]
                },
                {
                    "optionValue": "MS",
                    "options": [
                        {"value":"ML41","label": "${'Masslynx 4.1' @ i18n, context='text'}"},
                        {"value":"ML40","label": "${'Masslynx 4.0' @ i18n, context='text'}"},
                        {"value":"PLGS","label": "${'PLGS' @ i18n, context='text'}"},                        
                        {"value":"ID_ION","label": "${'Identity/Ion Expression' @ i18n, context='text'}"},
                        {"value":"2154","label": "${'Empower 2154' @ i18n, context='text'}"},
                        {"value":"1154","label": "${'Empower 1154' @ i18n, context='text'}"},
                        {"value":"OTHER","label": "${'Other than listed' @ i18n, context='text'}"}
                    ]
                },
                {
                    "optionValue": "NUGEN",
                    "options": [
                        {"value":"SDMS","label": "${'NuGenesis SDMS' @ i18n, context='text'}"},
                        {"value":"SVP","label": "${'SDMS Vision Publisher' @ i18n, context='text'}"},
                        {"value":"AWM","label": "${'Analytical Workflow Manager (AWM)' @ i18n, context='text'}"},                        
                        {"value":"ID_ION","label": "${'Identity/Ion Expression' @ i18n, context='text'}"}
                    ]
                }
            ]
        }
    </script>
</div>
<sly
        data-sly-use.patterns="/apps/waters/components/content/patterns.html"
        data-sly-call="${patterns.placeholder @ show=true, text=component.title}"
/>
<sly data-sly-use.clientlib="/libs/granite/sightly/templates/clientlib.html" data-sly-call="${clientlib.js @ categories='waters.forms'}"/>
<!--/* Load client forms css asynchronously using preload */-->
<link rel="preload" href="/etc.clientlibs/waters/components/content/forms/clientlib-forms.css" as="style"  onload="this.onload=null;this.rel='stylesheet'">