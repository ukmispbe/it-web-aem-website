<div data-sly-use.billing="com.waters.aem.core.components.content.detailtiles.Billing">
    <div class="cmp-detail-tile--attach" id="billing-details-tile"></div>
    <script type="application/json" id="cmp-detail-tiles--billing">
        {
            "name": "billingAddresses",
            "type": "billing",
            "title": "${'Billing Addresses' @ i18n, context='unsafe'}",
            "fetchEndPoint": "${billing.myAccountUrl @ context='unsafe'}",
            "noAddressMessage": "${'For a faster checkout experience, add your billing address now.' @ i18n, context='unsafe'}",
            "formMessage": {
                "text": "${'It may take up to 24 hours to verify a new or change of address. Orders may be delayed.' @ i18n, context='unsafe'}"
            },
            "form": {
                "submitEndpoint": "${billing.myAccountUpdateUrl @ context='unsafe'}",
                "buttonText": "${'Save Changes' @ i18n, context='unsafe'}",
                "cancelText": "${'Cancel' @ i18n, context='unsafe'}",
                "icons": {
                    "validIcon": "/content/dam/waters/en/brand-assets/icons/checkmark.svg",
                    "invalidIcon": "/content/dam/waters/en/brand-assets/icons/attention.svg"
                },
                "fields": [
                    {
                        "type": "text",
                        "name": "company",
                        "label": "${'Company' @ i18n, context='unsafe'}",
                        "validation": {
                            "validateFnName": "noWhitespaceOnly",
                            "validationMsg": "${'Please enter a valid company name.' @ i18n, context='unsafe'}",
                            "required": true,
                            "requiredMsg": "${'Please enter a company name.' @ i18n, context='unsafe'}"
                        }
                    },
                    {
                        "type": "text",
                        "name": "street",
                        "label": "${'Address' @ i18n, context='unsafe'}",
                        "validation": {
                            "validateFnName": "noWhitespaceOnly",
                            "validationMsg": "${'Please enter a valid address.' @ i18n, context='unsafe'}",
                            "required": true,
                            "requiredMsg": "${'Please enter an address.' @ i18n, context='unsafe'}"
                        }
                    },
                    {
                        "type": "text",
                        "name": "city",
                        "label": "${'City' @ i18n, context='unsafe'}",
                        "validation": {
                            "validateFnName": "noWhitespaceOnly",
                            "validationMsg": "${'Please enter a valid city.' @ i18n, context='unsafe'}",
                            "required": true,
                            "requiredMsg": "${'Please enter a city.' @ i18n, context='unsafe'}"
                        }
                    },
                    {
                        "type": "dropdown",
                        "name": "state",
                        "label": "${'State/Province/Region' @ i18n, context='unsafe'}",
                        "placeholder": "${'Select...' @ i18n, context='unsafe'}",
                        "dropdownIndicator": "/content/dam/waters/en/brand-assets/icons/down.svg",
                        "options": ${billing.countriesJson @ context="unsafe"},
                        "validation": {
                            "required": true,
                            "requiredMsg": "${'Please select your region.' @ i18n, context='unsafe'}"
                        }
                    },
                    {
                        "type": "text",
                        "name": "zip",
                        "label": "${'Zip/Postal Code' @ i18n, context='unsafe'}",
                        "validation": {
                            "validateFnName": "noWhitespaceOnly",
                            "validationMsg": "${'Please enter a valid postal code.' @ i18n, context='unsafe'}",
                            "required": true,
                            "requiredMsg": "${'Please enter a postal code.' @ i18n, context='unsafe'}"
                        }
                    },
                    {
                        "type": "dropdown",
                        "name": "country",
                        "label": "${'Country' @ i18n, context='unsafe'}",
                        "placeholder": "${'Select...' @ i18n, context='unsafe'}",
                        "dropdownIndicator": "/content/dam/waters/en/brand-assets/icons/down.svg",
                        "options": ${billing.countriesJson @ context="unsafe"},
                        "validation": {
                            "required": true,
                            "requiredMsg": "${'Please select your country.' @ i18n, context='unsafe'}"
                        }
                    }
                ]
            },
            "canCreate": true,
            "addTitle": "${'Add New Billing Address' @ i18n, context='unsafe'}",
            "icons": {
                "edit": "/content/dam/waters/en/brand-assets/icons/edit-2.svg",
                "add": "/content/dam/waters/en/brand-assets/icons/add.svg",
                "refresh": "/content/dam/waters/en/brand-assets/icons/refresh.svg"
            }
        }
    </script>
</div>
<sly data-sly-use.patterns="/apps/waters/components/content/patterns.html"
     data-sly-call="${patterns.placeholder @ show=true, text=component.title}"/>