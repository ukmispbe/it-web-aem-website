<div
    data-sly-use.password="com.waters.aem.core.components.content.detailtiles.Password"
>
    <div class="cmp-detail-tile--attach" id="changePassword-details-tile"></div>
    <script type="application/json" id="cmp-detail-tiles--changePassword">
        {
            "name": "passwordDetails",
            "type": "password",
            "title": "${'Change Password' @ i18n, context='unsafe'}",
            "editText": "${'Edit' @i18n, context='unsafe'}",
            "canCreate": false,
            "form": {
                "submitEndpoint": "${password.changePasswordUrl @ context='unsafe'}",
                "buttonText": "${'Change Password' @ i18n, context='unsafe'}",
                "cancelText": "${'Cancel' @ i18n, context='unsafe'}",
                "icons": {
                    "checkmarkIcon": "/content/dam/waters/en/brand-assets/icons/checkmark.svg",
                    "validIcon": "/content/dam/waters/en/brand-assets/icons/checkmark.svg",
                    "invalidIcon": "/content/dam/waters/en/brand-assets/icons/attention.svg",
                    "eyeIcon": "/content/dam/waters/en/brand-assets/icons/eye.svg",
                    "eyeOffIcon": "/content/dam/waters/en/brand-assets/icons/eye-off.svg",
                    "signInIcon": "/content/dam/waters/en/brand-assets/icons/user.svg"
                },
                "fields": [
                    {
                        "type": "password",
                        "name": "currentPassword",
                        "label": "${'Enter Current Password' @ i18n, context='unsafe'}",
                        "hasMatch": false,
                        "validation": {
                            "required": true,
                            "requiredMsg": "${'Please enter current password.' @ i18n, context='unsafe'}"
                        }
                    },
                    {
                        "type": "password",
                        "name": "newPassword",
                        "label": "${'Create Password' @ i18n, context='unsafe'}",
                        "hasMatch": true,
                        "matchLabel": "${'Confirm Password' @ i18n, context='unsafe'}",
                        "validation": {
                            "required": true,
                            "validateFnName": "password",
                            "validationMsg": "${'Please enter a valid password.' @ i18n, context='unsafe'}",
                            "requiredMsg": "${'Please enter a password.' @ i18n, context='unsafe'}",
                            "nonMatchingMsg": "${'Passwords must match. Please try again.' @ i18n, context='unsafe'}",
                            "requirementsLabel": "${'Your password must include' @i18n, context='unsafe'}",
                            "requirements": [
                                {
                                    "name": "shortPassword",
                                    "msg": "${'at least 8 characters' @ i18n, context='unsafe'}"
                                },
                                {
                                    "name": "noUppercase",
                                    "msg": "${'at least 1 uppercase letter' @ i18n, context='unsafe'}"
                                },
                                {
                                    "name": "noLowercase",
                                    "msg": "${'at least 1 lowercase letter' @ i18n, context='unsafe'}"
                                },
                                {
                                    "name": "noDigits",
                                    "msg": "${'at least 1 number' @ i18n, context='unsafe'}"
                                },
                                {
                                    "name": "noSpecial",
                                    "msg": "${'at least 1 symbol (for example, !, $, #, %)' @ i18n, context='unsafe'}"
                                }
                            ]
                        }
                    }
                ]
            },
            "icons": {
                "edit": "/content/dam/waters/en/brand-assets/icons/edit.svg"
            }
        }
    </script>
</div>
<sly
    data-sly-use.patterns="/apps/waters/components/content/patterns.html"
    data-sly-call="${patterns.placeholder @ show=true, text=component.title}"
/>
