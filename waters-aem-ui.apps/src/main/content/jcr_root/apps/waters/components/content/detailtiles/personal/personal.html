<div
    data-sly-use.personal="com.waters.aem.core.components.content.detailtiles.Personal"
>
    <div class="cmp-detail-tile--attach" id="personal-details-tile"></div>
    <script type="application/json" id="cmp-detail-tiles--personal">
        {
            "name": "personalDetails",
            "type": "personal",
            "title": "${'Personal Details' @ i18n, context='unsafe'}",
            "fetchEndPoint": "${personal.myAccountUrl @ context='unsafe'}",
            "canCreate": false,
            "editText": "${'Edit' @i18n, context='unsafe'}",
            "formMessage":  {
                "text": "${'Your email is your username and cannot be changed. If you need to change your country, please ' @i18n, context='unsafe'}",
                "linkText": "${'Contact Waters' @i18n, context='unsafe'}",
                "linkURL": "https://www.waters.com/waters/localeRedirect.htm?type=contact_us"
            },
            "form": {
                "submitEndpoint": "https://test-www.waters.com:8443/api/waters/user/v1/update/profile",
                "buttonText": "${'Save Changes' @ i18n, context='unsafe'}",
                "cancelText": "${'Cancel' @ i18n, context='unsafe'}",
                "icons": {
                    "validIcon": "/content/dam/waters/en/brand-assets/icons/checkmark.svg",
                    "invalidIcon": "/content/dam/waters/en/brand-assets/icons/attention.svg",
                    "lockIcon": "/content/dam/waters/en/brand-assets/icons/lock.svg"
                },
                "fields": [
                    {
                        "type": "text",
                        "name": "firstName",
                        "label": "${'First Name' @ i18n, context='unsafe'}",
                        "validation": {
                            "required": true,
                            "validateFnName": "noWhitespaceOnly",
                            "validationMsg": "${'Please enter a valid first name.' @ i18n, context='unsafe'}",
                            "requiredMsg": "${'Please enter a first name.' @ i18n, context='unsafe'}"
                        }
                    },
                    {
                        "type": "text",
                        "name": "lastName",
                        "label": "${'Last Name' @ i18n, context='unsafe'}",
                        "validation": {
                            "required": true,
                            "validateFnName": "noWhitespaceOnly",
                            "validationMsg": "${'Please enter a valid last name.' @ i18n, context='unsafe'}",
                            "requiredMsg": "${'Please enter a last name.' @ i18n, context='unsafe'}"
                        }
                    },
                    {
                        "type": "text",
                        "name": "company",
                        "label": "${'Company' @ i18n, context='unsafe'}",
                        "validation": {
                            "validateFnName": "noWhitespaceOnly",
                            "validationMsg": "${'Please enter a valid company name.' @ i18n, context='unsafe'}",
                            "required": true,
                            "requiredMsg": "${'Please enter a company name.' @ i18n, context='unsafe'}"
                        }
                    },
                    {
                        "type": "email",
                        "name": "email",
                        "disabled": true,
                        "label": "${'Email Address' @ i18n, context='unsafe'}",
                        "validation": {
                            "required": true,
                            "requiredMsg": "${'Please enter a valid email address.' @ i18n, context='unsafe'}"
                        }
                    },
                    {
                        "type": "text",
                        "name": "phone",
                        "label": "${'Phone Number' @ i18n, context='unsafe'}",
                        "validation": {
                           "required": false,
                            "requiredMsg": "${'Please enter a phone number.' @ i18n, context='unsafe'}"
                        }
                    },
                    {
                        "type": "dropdown",
                        "name": "country",
                        "label": "${'Country' @ i18n, context='unsafe'}",
                        "placeholder": "${'Select...' @ i18n, context='unsafe'}",
                        "options": ${personal.countriesJson @ context="unsafe"},
                        "disabled": true,
                        "validation": {
                            "required": true,
                            "requiredMsg": "${'Please select your country.' @ i18n, context='unsafe'}"
                        }
                    },
                    {
                        "type": "checkbox",
                        "name": "communications",
                        "label": "${'I want to receive communications from Waters.' @ i18n, context='text'}"
                    }
                ]
            },
            "icons": {
                "edit": "/content/dam/waters/en/brand-assets/icons/edit.svg"
            }
        }
    </script>
</div>
<sly
    data-sly-use.patterns="/apps/waters/components/content/patterns.html"
    data-sly-call="${patterns.placeholder @ show=true, text=component.title}"
/>
