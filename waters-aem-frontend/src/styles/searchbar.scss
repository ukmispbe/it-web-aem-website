.cmp-search-bar {
    width: 100%;
    float: left;
    margin-bottom: $space-m;
    position: relative;
    z-index: 0;

    @include mobile {
        margin-bottom: 0;
    }

    .react-autosuggest__suggestions-container {
        position: absolute;
        width: 100%;
        padding: $space-s;
        border: $color-border-light;
        background-color: inherit;
        top: $space-xl + 1;

        .react-autosuggest__suggestions-list {
            list-style: none;
            padding-left: $space-xxxs;
            margin-top: $space-xxxs;
            margin-bottom: $space-s * -1;

            .react-autosuggest__suggestion {
                @include font-body;

                .formatted-suggestion {
                    display: flex;
                }
            }

            .react-autosuggest__suggestion:hover {
                color: $color-link;
                cursor: pointer;
            }

            .emphasis-matching-characters {
                font-weight: $font-weight-bold;
            }

            .white-text {
                color: $color-white;
                font-size: $font-size-body / 2;
            }
        }

        margin-bottom: 0px;
    }

    .react-autosuggest__suggestions-container--open {
        background-color: $color-white;
    }

    .react-autosuggest__input {
        font-family: $font-stack;
        @include font-h3;
        float: left;
        width: 100%;
        border: 1px solid $color-border-light;
        background: $color-white;
        padding: $space-s $space-xl $space-s $space-s;

        &:focus {
            outline: 2px solid $color-focus;
        }

        &::-ms-clear {
            display: none;
        }
    }

    &__icons {
        display: flex;
        position: absolute;
        top: $space-s;
        right: $space-m;

        &-search {
            svg {
                width: $icon-l;
                height: $icon-l;
                cursor: pointer;

                .st0 {
                    stroke: $color-icon;
                }
            }
        }

        &-clear {
            margin-right: $space-xxs;

            svg {
                width: $icon-l;
                height: $icon-l;
                cursor: pointer;

                .st0 {
                    stroke: $color-icon;
                }
            }
        }
    }
}

.cmp-search-bar--focus {
    .cmp-search-bar__icons-search {
        svg {
            .st0 {
                stroke: $color-link;
            }
        }
    }
}

/*
    These overrides prevents the auto suggestions list from the following:
    -   getting cut off due to the banner overflow-y property
    -   displaying a gap between the search textbox and suggestions list
    -   hiding the title under the overlay
*/
body.cmp-search-bar__auto-suggest--open {
    .cmp-search-bar {
        z-index: 9999;
    }
    .cmp-banner {
        -ms-overflow-y: visible;
        overflow-y: unset;
        z-index: $cmp-banner-active-overlay-z-index;
    }

    .cmp-title {
        position: relative;
        z-index: 9999;
    }
}

/*
    These overrides prevents the auto suggestions list from the following:
    -   showing the sort by drop down and icon on top
    -   showing the search results on top
*/
body.cmp-search-body__auto-suggest--open {
    .cmp-search-sortby__select {
        select,
        svg {
            z-index: -1;
        }
    }

    .searchresults {
        z-index: -1;
        position: relative;
    }
}

// Firefox CSS Hacks
@-moz-document url-prefix() {
    .cmp-search-bar .react-autosuggest__suggestions-container {
        top: 4.15em;
    }
}

// Edge CSS Hack 
@supports (-ms-ime-align: auto) {
    .cmp-search-bar .react-autosuggest__suggestions-container {
        top: 4.2em; 
    }
} 